import Head from 'next/head';
import IntroSection from './../components/homepage/IntroSection';
import Button from './../components/globals/Button';
import { loadImageData } from './../functions/imageLoader';
import Link from 'next/link';

const Home = ({ images }) => {
  return (
    <>
      <Head>
        <title>Watsu úvod</title>
        <meta name="description" content="Generated by create next app" />
      </Head>
      <main>
        <IntroSection images={images} />
        <Link href="/" passHref>
          <Button title="Rezervovat termín" />
        </Link>
      </main>
    </>
  );
};

export async function getStaticProps({ params }) {
  const imagesToLoad = {
    introSectionFoto: '2zx97jeYjQdOXgW',
  };
  const images = {};

  for (const [name, hash] of Object.entries(imagesToLoad)) {
    images[name] = await loadImageData(hash);
  }

  return {
    props: {
      images,
    },
  };
}

export default Home;
